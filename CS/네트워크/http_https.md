## HTTP
HTTP(HyperText Transfer Protocol)는 HTML과 같은 문서를 전송하기 위한 프로토콜. 웹 브라우저와 웹 서버의 소통을 위해 디자인되었다. HTTP/1.1, HTTP/2는 TCP기반이며 HTTP/3는 UDP기반이다.
### 특징
- 클라이언트 서버 구조
  - Request, Response 구조. 클라이언트가 HTTP Messages 양식에 맞춰 요청을 보내고 응답을 대기하면  서버가 HTTP Messages 양식에 맞춰 응답한다. 
- 무상태성(Stateless)
  - 서버가 클라이언트의 상태를 보존하지 않음
  - 장점 : 서버 확장성 높음
  - 단점 : 클라이언트가 추가 데이터 전송
- 비연결성(Connectionless)
- HTTP 메세지

#### 무상태성(Stateless) vs 상태 유지(Stateful)
- 상태 유지
  - 클라이언트의 요청을 하나의 서버가 기억하고 있기 때문에 항상 같은 서버가 응답 해야한다. 
  - 만약 요청을 받은 서버가 장애가 발생하면 유지되던 상태 정보가 사라지므로 처음부터 다시 서버에 요청 해야한다.
  - e.g. 로그인
  - 로그인한 사용자의 경우 로그인했다는 상태를 서버에 유지(브라우저 쿠키, 서버 세션). 상태 유지는 최소한만 사용
- 무상태
  - 클라이언트가 요청할때 이미 필요한 데이터를 다 담아서 보내기 때문에 아무 서버나 호출해도 된다. 
  - 만약 요청을 받은 서버가 장애가 발생해도 다른 서버에서 응답을 전달하면 되기 때문에 클라이언트는 다시 요청할 필요가 없다. 
  - 이런 특징으로 응답 서버를 쉽게 바꿀 수 있어서 무한 서버 증설이 가능하다.
  - 모든 것을 무상태로 설계할 수 있는 경우도 있고 없는 경우도 있다.
  - e.g. 로그인이 필요없는 단순한 서비스 소개 화면

#### 비연결성(Connectionless) vs 연결 유지(Connection Oriented)
- 연결 유지
  - TCP/IP의 경우 기본적으로 연결을 유지한다. 서버에 요청을 보내지 않는 클라이언트들도 계속 연결을 유지해야 하므로 서버의 자원이 계속 소모된다.
- 비연결성
  - HTTP에서는 실제로 요청을 주고받을 때만 연결을 유지하고 응답을 주고 나면 TCP/IP 연결을 끊는다. 이를 통해 최소한의 자원으로 서버 유지를 가능하게 한다.
  - 트래픽이 많지 않고 빠른 응답을 제공할 수 있는 경우 비연결성의 특징은 효율적으로 작동한다.
  - 트래픽이 많고 큰 규모의 서비스를 운영할 때에는 한계가 있다.
    - TCP/IP 연결을 새로 맺어야 한다. 3 way handshake 시간 추가
    - 웹 사이트를 요청하면 html,js,css,이미지 등 수 많은 자원이 함께 다운로드
    - 각각의 자원을 다운로드 하기 위해 연결과 종료를 반복
    - 지금은 HTTP 지속 연결로 문제 해결
      - 연결이 이뤄지고 난 뒤 각각의 자원들을 요청하고 모든 자원에 대한 응답이 돌아온 후에 연결을 종료

#### HTTP Messages
클라이언트와 서버 사이에서 데이터가 교환되는 방식. HTTP Messages는 몇 줄의 텍스트 정보로 구성된다.
- start line : start line에는 요청이나 응답의 상태를 나타낸다. 응답에서는 status line이라고 부른다.
- HTTP headers : 요청을 지정하거나 메시지에 포함된 본문을 설명하는 헤더의 집합
- empty line : 헤더와 본문을 구분하는 빈 줄
- body : 요청이나 응답과 관련된 데이터 또는 문서를 포함. 요청과 응답의 유형에 따라 선택적으로 사용
- start line과 HTTP headers를 묶어 요청,응답의 head라고 하고 payload는 body라고 한다.

